version: 1

indices:
  default:
    include:
      - /sessions/**
      - /labs/**
    exclude:
      - /drafts/**
    target: /query-index.json
    properties:
      speaker-name:
        select: head > meta[name="speaker-name"]
        value: attribute(el, "content")
      instructor:
        select: head > meta[name="instructor"]
        value: attribute(el, "content")
      category:
        select: head > meta[name="category"]
        value: attribute(el, "content")
      tags:
        select: head > meta[name="tags"]
        value: attribute(el, "content")
      published-date:
        select: head > meta[name="published-date"]
        value: parseTimestamp(attribute(el, "content"), "MM/DD/YYYY")
      session-level:
        select: head > meta[name="session-level"]
        value: attribute(el, "content")
      session-time:
        select: head > meta[name="session-time"]
        value: attribute(el, "content")
      difficulty-level:
        select: head > meta[name="difficulty-level"]
        value: attribute(el, "content")
      duration:
        select: head > meta[name="duration"]
        value: attribute(el, "content")
